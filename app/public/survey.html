<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>FriendFinder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
     <!-- Bootstrap CSS -->
     <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"rel="stylesheet">
     <!--Font Awesome -->
     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/fontawesome.css" integrity="sha384-HU5rcgG/yUrsDGWsVACclYdzdCcn5yU8V/3V84zSrPDHwZEdjykadlgI6RHrxGrJ" crossorigin="anonymous">
</head>
<body>
    <div class="container">
            <h2>Survey Questions</h2>
            <hr>
            <h3><strong>About You</strong></h3>
            <h4>Name (Required)</h4>
            <input type="text" id="name" class="form-control" required>
            <h4>Link to Photo Image (Required)</h4>
            <input type="text" id="photo" class="form-control" required>
            <hr>

            <h3><strong>Question 1</strong></h3>
            <h4>I find making friends very difficult.</h4>
            <select class="chosen-select" id="q1">
                <option value=""></option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
            </select>

            <h3><strong>Question 2</strong></h3>
            <h4>I always try to learn from my mistakes and take ownership of them.</h4>
            <select class="chosen-select" id="q2">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
        
            <h3><strong>Question 3</strong></h3>
            <h4>I stay calm under pressure.</h4>
            <select class="chosen-select" id="q3">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
        
            <h3><strong>Question 4</strong></h3>
            <h4>I always consider other people's feelings when making decisions.</h4>
            <select class="chosen-select" id="q4">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
        
            <h3><strong>Question 5</strong></h3>
            <h4>Everything has a place and everything in its place</h4>
            <select class="chosen-select" id="q5">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
        
            <h3><strong>Question 6</strong></h3>
            <h4>I like to try out new activities and go on adventures.</h4>
            <select class="chosen-select" id="q6">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
        
            <h3><strong>Question 7</strong></h3>
            <h4>I always conceal my true feelings.</h4>
            <select class="chosen-select" id="q7">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 8</strong></h3>
            <h4>I find myself taking over when involved in group projects</h4>
            <select class="chosen-select" id="q8">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 9</strong></h3>
            <h4>I fear what I do not understand.</h4>
            <select class="chosen-select" id="q9">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 10</strong></h3>
            <h4>I find that I always question authority</h4>
            <select class="chosen-select" id="q10">
              <option value=""></option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <br>
            <br>
        
            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
              <i class="fa fa-check-circle" aria-hidden="true"></i>
             Submit</button>
                    
            <hr>
            <footer class="footer">
              <div class="container">
                <p><a href="/api/friends">API Friends List</a> | <a href="https://MarkPish.github.io/FriendFinder/">GitHub Repo</a></p>
              </div>
            </footer>

            <div class = "modal" id="friendMatchModal" style="width:300px;">
              <div class="modal-content">
                  <h1 id='matchName'></h1>
                  <p id="moreInfo"></p>
              </div>
            </div>            
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"crossorigin="anonymous"></script>
    
    <script>
      $('#submit').on(click, function(event) {
              
        event.preventDefault();
        if ($("#name").val().trim() === "" || $("#photo").val().trim() === "") {
          alert("Please complete all questions.");
          return;
        } else {
          var surveyInput = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            scores: [
              $("#q1").val().trim(),
              $("#q2").val().trim(),
              $("#q3").val().trim(),
              $("#q4").val().trim(),
              $("#q5").val().trim(),
              $("#q6").val().trim(),
              $("#q7").val().trim(),
              $("#q8").val().trim(),
              $("#q9").val().trim(),
              $("#q10").val().trim(),
            ]
          }
        }
      }); 
   â€‹
          //Adding in friend match name and image to modal 
          $.post("/api/friends", surveyInput)
            .done(function (data) {
              $(".modal-content").html("<h1>Your match is " + data.name + "!</h1>");
              // $("#matchImg").attr("src", data.photo);
              $('<img src="' + data.photo + '">').appendTo(".modal-content");
              $("#friendMatchModal").modal();
            })
        
    </script>
    
</body>
</html>